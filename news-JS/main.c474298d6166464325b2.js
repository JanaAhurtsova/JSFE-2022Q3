(()=>{"use strict";var e={659:(e,t,r)=>{r.r(t)},283:(e,t,r)=>{r.r(t)},485:(e,t,r)=>{r.r(t)},717:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=r(842),n=r(527);t.default=class{constructor(){this.controller=new o.default,this.view=new n.AppView}start(){const e=document.querySelector(".sources");if(!(e&&e instanceof HTMLDivElement))throw new Error("Something has gone very, very wrong.");e.addEventListener("click",(e=>this.controller.getNews(e,(e=>this.view.drawNews(e))))),this.controller.getSources((e=>this.view.drawSources(e)))}}},853:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=r(24);class n extends o.default{constructor(){super("https://newsapi-redirect-production.up.railway.app/",{apiKey:"2959afa0c4be401c8a5353dcffd22e70"})}}t.default=n},842:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=r(853),n=r(536);class s extends o.default{getSources(e){super.getResp({endpoint:n.Endpoints.SOURCES},e)}getNews(e,t){let r=e.target;const o=e.currentTarget;if(!(r&&o&&o instanceof HTMLElement))throw new Error("Something has gone very, very wrong.");for(;r!==o;){if(r.classList.contains("source__item")){const e=r.getAttribute("data-source-id");if(!e)throw new Error("Something has gone very, very wrong.");return void(o.getAttribute("data-source")!==e&&(o.setAttribute("data-source",e),super.getResp({endpoint:n.Endpoints.EVERYTHING,options:{sources:e}},t)))}r=r.parentNode}}}t.default=s},24:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this._baseLink=e,this._options=t}getResp({endpoint:e,options:t={}},r=(()=>{console.error("No callback for GET response")})){this.load("GET",e,r,t)}errorHandler(e){if(!e.ok)throw 401!==e.status&&404!==e.status||console.log(`Sorry, but there is ${e.status} error: ${e.statusText}`),Error(e.statusText);return e}makeUrl(e,t){const r=Object.assign(Object.assign({},this._options),e);let o=`${this._baseLink}${t}?`;return Object.keys(r).forEach((e=>{o+=`${e}=${r[e]}&`})),o.slice(0,-1)}load(e,t,r,o={}){fetch(this.makeUrl(o,t),{method:e}).then(this.errorHandler).then((e=>e.json())).then((e=>r(e))).catch((e=>console.error(e)))}}},527:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppView=void 0;const o=r(798),n=r(53);class s{constructor(){this._news=new o.default,this._sources=new n.default}drawNews(e){const t=(null==e?void 0:e.articles)?null==e?void 0:e.articles:[];this._news.draw(t)}drawSources(e){const t=(null==e?void 0:e.sources)?null==e?void 0:e.sources:[];this._sources.draw(t)}}t.AppView=s,t.default=s},798:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),r(659);const o=r(359);t.default=class{draw(e){const t=e.length>=10?e.filter(((e,t)=>t<10)):e,r=document.createDocumentFragment(),n=document.querySelector("#newsItemTemp");if(!(n&&n instanceof HTMLTemplateElement))throw new Error("Something has gone very, very wrong.");t.forEach(((e,t)=>{const s=n.content.cloneNode(!0);if(!(s&&s instanceof DocumentFragment))throw new Error("Something has gone very, very wrong.");const i=s.querySelector(".news__item"),c=s.querySelector(".news__meta-photo"),a=s.querySelector(".news__meta-author"),l=s.querySelector(".news__meta-date");if(!(i&&i instanceof HTMLDivElement))throw new Error("Something has gone very, very wrong.");if(!(c&&c instanceof HTMLDivElement))throw new Error("Something has gone very, very wrong.");if(!(l&&l instanceof HTMLLIElement))throw new Error("Something has gone very, very wrong.");t%2&&i.classList.add("alt"),c.style.backgroundImage=`url(${e.urlToImage||o})`,a.textContent=e.author||e.source.name,l.textContent=e.publishedAt.slice(0,10).split("-").reverse().join("-");const u=s.querySelector(".news__description-title"),d=s.querySelector(".news__description-source"),h=s.querySelector(".news__description-content"),w=s.querySelector(".news__description-read-more a");if(!(u&&u instanceof HTMLHeadingElement))throw new Error("Something has gone very, very wrong.");if(!(d&&d instanceof HTMLHeadingElement))throw new Error("Something has gone very, very wrong.");if(!(h&&h instanceof HTMLParagraphElement))throw new Error("Something has gone very, very wrong.");u.textContent=e.title,d.textContent=e.source.name,h.textContent=e.description,w&&w.setAttribute("href",e.url),r.append(s)}));const s=document.querySelector(".news");if(!(s&&s instanceof HTMLDivElement))throw new Error("Something has gone very, very wrong.");s.innerHTML="",s.appendChild(r)}}},53:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),r(283),t.default=class{draw(e){const t=document.createDocumentFragment(),r=document.querySelector("#sourceItemTemp");if(!(r&&r instanceof HTMLTemplateElement))throw new Error("Something has gone very, very wrong.");e.forEach((e=>{const o=r.content.cloneNode(!0);if(!(o&&o instanceof DocumentFragment))throw new Error("Something has gone very, very wrong.");const n=o.querySelector(".source__item-name"),s=o.querySelector(".source__item");if(!(n&&n instanceof HTMLSpanElement))throw new Error("Something has gone very, very wrong.");if(!(s&&s instanceof HTMLDivElement))throw new Error("Something has gone very, very wrong.");n.textContent=e.name,s.setAttribute("data-source-id",e.id),t.append(o)}));const o=document.querySelector(".sources");if(!(o&&o instanceof HTMLDivElement))throw new Error("Something has gone very, very wrong.");o.append(t)}}},536:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Endpoints=void 0,(r=t.Endpoints||(t.Endpoints={})).EVERYTHING="everything",r.SOURCES="sources"},359:(e,t,r)=>{e.exports=r.p+"./news_placeholder.94ff05dbaa915b8dc813.jpg"}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{const e=r(717);r(485),(new e.default).start();const t=document.querySelector(".search-item");t.addEventListener("input",(()=>{const e=document.querySelector(".sources");if(!(e&&e instanceof HTMLDivElement))throw new Error("Something has gone very, very wrong.");const r=document.querySelectorAll(".source__item"),o=e.querySelector(".source__item-name");if(!(o&&o instanceof HTMLSpanElement))throw new Error("Something has gone very, very wrong.");const n=t.value.toUpperCase();for(let e=0;e<r.length;e++){const t=r[e].querySelector(".source__item-name");console.log(t),t&&(t.innerHTML.toUpperCase().indexOf(n)>-1?r[e].style.display="":r[e].style.display="none")}}))})()})();